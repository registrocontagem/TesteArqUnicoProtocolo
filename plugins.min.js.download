/* Ephox Fluffy plugin
 *
 * Copyright 2010-2016 Ephox Corporation.  All rights reserved.
 *
 * Version: 2.10.0-20
 */

!function(){"use strict";function n(r){return function(n){return t=typeof(n=n),(null===n?"null":"object"==t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":t)===r;var t}}function t(n,t){return{isRequired:n,applyPatch:t}}function u(e,o){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var r=o.apply(this,n),r=i(r)?n:r;return e.apply(this,r)}}var r,e,a=n("string"),o=n("object"),c=n("array"),i=(r=void 0,function(n){return r===n}),f=(e="function",function(n){return typeof n===e}),R="undefined"!=typeof window?window:Function("return this;")();function U(n,u,c,a){return new(c=c||Promise)(function(r,t){function e(n){try{i(a.next(n))}catch(n){t(n)}}function o(n){try{i(a.throw(n))}catch(n){t(n)}}function i(n){var t;n.done?r(n.value):((t=n.value)instanceof c?t:new c(function(n){n(t)})).then(e,o)}i((a=a.apply(n,u||[])).next())})}function L(e,o){var i,u,c,a={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]},n={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function t(r){return function(n){var t=[r,n];if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,u&&(c=2&t[0]?u.return:t[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,t[1])).done)return c;switch(u=0,(t=c?[2&t[0],c.value]:t)[0]){case 0:case 1:c=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,u=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(c=0<(c=a.trys).length&&c[c.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!c||t[1]>c[0]&&t[1]<c[3])){a.label=t[1];break}if(6===t[0]&&a.label<c[1]){a.label=c[1],c=t;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(t);break}c[2]&&a.ops.pop(),a.trys.pop();continue}t=o.call(e,a)}catch(n){t=[6,n],u=0}finally{i=c=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}}function l(n,t,r){if(r||2===arguments.length)for(var e,o=0,i=t.length;o<i;o++)!e&&o in t||((e=e||Array.prototype.slice.call(t,0,o))[o]=t[o]);return n.concat(e||Array.prototype.slice.call(t))}function s(){}function d(n){return function(){return n}}function p(n){return n}function g(){return y}var h=d(!1),v=d(!0),y={fold:function(n,t){return n()},isSome:h,isNone:v,getOr:p,getOrThunk:m,getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:p,orThunk:m,map:g,each:s,bind:g,exists:h,forall:v,filter:function(){return y},toArray:function(){return[]},toString:d("none()")};function m(n){return n()}function w(r){function n(){return o}function t(n){return n(r)}var e=d(r),o={fold:function(n,t){return t(r)},isSome:v,isNone:h,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(n){return w(n(r))},each:function(n){n(r)},bind:t,exists:t,forall:t,filter:function(n){return n(r)?o:y},toArray:function(){return[r]},toString:function(){return"some("+r+")"}};return o}function b(r){return{isValue:v,isError:h,getOr:d(r),getOrThunk:d(r),getOrDie:d(r),or:function(n){return b(r)},orThunk:function(n){return b(r)},fold:function(n,t){return t(r)},map:function(n){return b(n(r))},mapError:function(n){return b(r)},each:function(n){n(r)},bind:function(n){return n(r)},exists:function(n){return n(r)},forall:function(n){return n(r)},toOptional:function(){return k.some(r)}}}function O(r){return{isValue:h,isError:v,getOr:p,getOrThunk:function(n){return n()},getOrDie:function(){throw n=String(r),new Error(n);var n},or:p,orThunk:function(n){return n()},fold:function(n,t){return n(r)},map:function(n){return O(r)},mapError:function(n){return O(n(r))},each:s,bind:function(n){return O(r)},exists:h,forall:v,toOptional:k.none}}function E(){return(new Date).getTime()}function q(r){return function(){n="position";var n,t=(((t=r).currentStyle||window.getComputedStyle(t,null))[n]||"").toLowerCase();return"absolute"===t||"fixed"===t}}function x(n){n.parentNode.removeChild(n)}function T(n,t){for(var r=0,e=n.length;r<e;r++)t(n[r],r)}function A(n,t){for(var r=function(n,t){for(var r=n.length,e=new Array(r),o=0;o<r;o++){var i=n[o];e[o]=t(i,o)}return e}(n,t),e=[],o=0,i=r.length;o<i;++o){if(!c(r[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+r);en.apply(e,r[o])}return e}function V(r){return function(n,t){r[t]=n}}function G(a){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(0===n.length)throw new Error("Can't merge zero objects");for(var r,e,o={},i=0;i<n.length;i++){var u,c=n[i];for(u in c)r=c,e=u,cn.call(r,e)&&(o[u]=a(o[u],c[u]))}return o}}function z(n,t){var n=ln(n,t),r=dn(t.plugins),e=n.custom_plugin_urls||{},e=fn(e,function(n,t){return on(r,t)}),n=n.external_plugins||{},o={},e=(an(e.t,function(n,t){o[t]=n}),sn(o,n)),n=0===un(e).length?{}:{external_plugins:e};return sn(t,n)}function S(n){return parseInt(n,10)}function _(n,t){return 0==(n-=t)?0:0<n?1:-1}function B(n,t,r){return{major:n,minor:t,patch:r}}function F(e,o){return function(n){var t=dn(n.plugins),r=mn(o),r=0<r.length?t.concat(r):t;return[e.util.Tools.extend({},n,{plugins:r})]}}function H(n,t){C(t,".tox-notifications-container","block"),D(n,"6.0.0")&&C(t,".tox-notification","-ms-grid"),C(t,".tox-notification","grid"),C(t,".mce-notification","block")}function J(n){var t=n,r=[Q,bn,On,En,wn,pn,gn,tn];if(t)for(var e=0;e<r.length;e++)r[e].isRequired(t)&&r[e].applyPatch(t)}var k={some:w,none:g,from:function(n){return null==n?y:w(n)}},M={value:b,error:O,fromOption:function(n,t){return n.fold(function(){return O(t)},b)}},j=function(n){var t;return null!=(t=n.defaultOptions)?t:n.defaultSettings},N="readonly",$=!1,K=function(){return $},Q=t(v,function(r){Object.defineProperty(r,"forceReadOnly",{value:function(){$=!0,r.on("AddEditor",function(n){var t=n.editor;t.options?t.options.set("readonly",!0):t.settings&&(t.settings.readonly=!0),t.on("init",function(){t.on("SwitchMode",function(n){n.mode!==N&&(t.mode?t.mode.set(N):t.setMode&&r.util.Promise.resolve().then(function(){t.setMode(N)}))})})})}})}),W=function(n,t,r,e,o){var i=E(),u=setInterval(function(){n()&&(clearInterval(u),t()),E()-i>o&&(clearInterval(u),r())},e)},X=function(n,t){(r=document.createElement("div")).style.display="none",r.className="mce-floatpanel";var r,e=r;document.body.appendChild(e),W(q(e),function(){x(e),n()},function(){x(e),t()},10,5e3)},Y=function(n,t){n.notificationManager?n.notificationManager.open({text:t,type:"warning",timeout:0,icon:""}):n.windowManager.alert(t)},I=function(n,t){var n=j(n),r=K(),e=n.api_key,n=n.tiny_cloud_entry_url,o=window.location.origin,t="".concat(t,"\n\u2193\u2193\u2193\u2193\u2193 ATTENTION ADMINS \u2193\u2193\u2193\u2193\u2193\nPlease include these details in Tiny Cloud support requests.\nResolved API key: ").concat(e,"\nEditor read-only?: ").concat(r?"yes":"no","\nOrigin: ").concat(o,"\nTiny Cloud entry URL: ").concat(n,"\n\u2191\u2191\u2191\u2191\u2191 ---------------- \u2191\u2191\u2191\u2191\u2191");console.warn(t)},Z=d(f(window.fetch)),P=null,nn=function(n){if("object"!=typeof n||null==n)return!1;return a(n.console_message)&&a(n.service_message)},tn=t(Z,function(c){c.on("AddEditor",function(n){var t,r,e,o,i=n.editor,u=j(c).fluffy_account_message_url;a(u)&&(r="focus",e=function(){var t,r,n;t=c,r=i,n=u,null===P&&(n=window.fetch(n,{method:"GET",mode:"cors",headers:new window.Headers({Accept:"application/json"})}),P=n.then(function(r){return U(void 0,void 0,void 0,function(){var t;return L(this,function(n){switch(n.label){case 0:return r.ok?204!==r.status?[3,1]:[2,M.value(k.none())]:[3,6];case 1:return n.trys.push([1,3,,4]),[4,r.json()];case 2:return t=n.sent(),nn(t)?[2,M.value(k.some(t))]:[3,4];case 3:return n.sent(),[3,4];case 4:return[2,M.error("failed to parse JSON response")];case 5:return[3,7];case 6:return[2,M.error("request returned ".concat(r.status,', saying "').concat(r.statusText,'"'))];case 7:return[2]}})})},function(n){return Promise.resolve(M.error("connection error"))})),P.then(function(n){n.fold(function(n){return I(t,"Error in TinyMCE cloud startup: ".concat(n))},function(n){return n.each(function(n){I(t,n.console_message),Y(r,n.service_message)})})})},(t=i).once?t.once(r,e):t.on(r,o=function(){e(),t.off(r,o)}))})}),rn=Array.prototype.indexOf,en=Array.prototype.push,on=function(n,t){return-1<rn.call(n,t)},un=Object.keys,cn=Object.hasOwnProperty,an=function(n,t){for(var r=un(n),e=0,o=r.length;e<o;e++){var i=r[e];t(n[i],i)}},fn=function(n,t){var r,e,o,i={},u={};return r=t,e=V(i),o=V(u),an(n,function(n,t){(r(n,t)?e:o)(n,t)}),{t:i,f:u}},ln=G(function(n,t){return o(n)&&o(t)?ln(n,t):t}),sn=G(function(n,t){return t}),dn=function(n){if(i(n)||""===n)return[];n=c(n)?A(n,function(n){return n.split(/[\s+,]/)}):n.split(/[\s+,]/);return A(n,function(n){return 0<n.length?[n.trim()]:[]})},pn=t(v,function(r){var n=r.EditorManager;n.init=u(n.init,function(n){return[z(j(r),n)]}),n.createEditor=u(n.createEditor,function(n,t){return[n,z(j(r),t)]})}),gn=t(v,function(t){Object.defineProperty(t,"forceCdnInit",{value:function(n){n.message&&I(t,n.message)}})}),hn=function(n){n=/([0-9]+)\.([0-9]+)\.([0-9]+)(?:(\-.+)?)/.exec(n);return n?B(S(n[1]),S(n[2]),S(n[3])):B(0,0,0)},vn=function(n,t){var r=_(n.major,t.major);if(0!==r)return r;r=_(n.minor,t.minor);if(0!==r)return r;r=_(n.patch,t.patch);return 0!==r?r:0},yn=function(n){return hn([n.majorVersion,n.minorVersion].join(".").split(".").slice(0,3).join("."))},D=function(n,t){return!!n&&-1===vn(yn(n),hn(t))},mn=function(n){n=j(n).forced_plugins;return n||[]},wn=t(function(n){return D(n,"4.7.0")},function(n){var r=n,e=r.EditorManager;e.init=u(e.init,F(r,e)),e.createEditor=u(e.createEditor,function(n,t){return l([n],F(r,e)(t),!0)})}),C=function(e,n,o){n=document.querySelectorAll(n);T(n,function(n){var t,r;"none"===window.getComputedStyle(n).display&&(r=n.style.cssText,t="display:".concat(o," !important;"),n.style.cssText=r?"".concat(r,";").concat(t):t,(n=e).theme&&n.notificationManager&&(r=n.notificationManager.getNotifications(),f(n.theme.getNotificationManagerImpl)&&f(n.theme.getNotificationManagerImpl().reposition)&&n.theme.getNotificationManagerImpl().reposition(r),T(r,function(n){f(n.reposition)&&n.reposition()})))})},bn=t(function(n){return!0},function(r){D(r,"5.6.0")?r.on("AddEditor",function(n){var t=n.editor;t.on("SkinLoaded",function(){setTimeout(function(){t.removed||H(r,t)},0)})}):r.on("AddEditor",function(n){var t=n.editor;t.on("OpenNotification",function(){H(r,t)})})}),On=t(function(n){return"function"!=typeof n.overrideDefaults},function(n){var t,e,r=n,o=r.EditorManager,i=(r.EditorManager.on("AddEditor",function(n){var t=n.editor,r=t.settings.service_message;r&&X(function(){Y(t,r)},function(){window.alert(r)})}),t=r,function(n){return[t.util.Tools.extend({},this.defaultSettings,n)]});n.overrideDefaults=(e=r,function(n){var t=e.util.URI,r=n.base_url,r=(r&&(this.baseURL=new t(this.documentBaseURL).toAbsolute(r.replace(/\/+$/,"")),this.baseURI=new t(this.baseURL)),n.suffix);r&&(this.suffix=r),this.defaultSettings=n}),o.init=u(o.init,i),o.createEditor=u(o.createEditor,function(n,t){return l([n],i.call(o,t),!0)})}),En=t(function(n){return D(n,"4.5.0")},function(n){var e;n.overrideDefaults=u(n.overrideDefaults,(e=n,function(n){var t,r=n.plugin_base_urls;for(t in r)e.PluginManager.urls[t]=r[t]}))});J(R.tinymce)}();

(function tcsl(cloudSettings, consoleMessage, forceReadOnly) {
	var entryUrl =
			document.currentScript != null &&
			typeof document.currentScript.src === "string"
					? document.currentScript.src
					: null;
	cloudSettings["tiny_cloud_entry_url"] = entryUrl;
	tinymce.overrideDefaults(cloudSettings);
	if (forceReadOnly) {
		tinymce.forceReadOnly();
		console.error('All created TinyMCE editors are configured to be read-only.');
	}
	tinymce.forceCdnInit({ message: consoleMessage });
})({"api_key":"go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2","editimage_api_key":"go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2","chiffer_snowplow_service_url":"https://sp.tinymce.com/i","forced_plugins":["chiffer"],"custom_plugin_urls":{"checklist":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/checklist/plugin.min.js","footnotes":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/footnotes/plugin.min.js","tinycomments":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/tinycomments/plugin.min.js","a11ychecker":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/a11ychecker/plugin.min.js","inlinecss":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/inlinecss/plugin.min.js","mediaembed":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/mediaembed/plugin.min.js","tinydrive":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/tinydrive/plugin.min.js","importword":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/importword/plugin.min.js","powerpaste":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/powerpaste/plugin.min.js","mergetags":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/mergetags/plugin.min.js","pageembed":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/pageembed/plugin.min.js","editimage":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/editimage/plugin.min.js","autocorrect":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/autocorrect/plugin.min.js","mentions":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/mentions/plugin.min.js","tinymcespellchecker":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/tinymcespellchecker/plugin.min.js","casechange":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/casechange/plugin.min.js","advtable":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/advtable/plugin.min.js","exportword":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/exportword/plugin.min.js","typography":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/typography/plugin.min.js","rtc":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/rtc/plugin.min.js","math":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/math/plugin.min.js","formatpainter":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/formatpainter/plugin.min.js","markdown":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/markdown/plugin.min.js","revisionhistory":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/revisionhistory/plugin.min.js","ai":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/ai/plugin.min.js","linkchecker":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/linkchecker/plugin.min.js","permanentpen":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/permanentpen/plugin.min.js","grammar":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/grammar/plugin.min.js","exportpdf":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/exportpdf/plugin.min.js","export":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/export/plugin.min.js","advcode":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/advcode/plugin.min.js","extractions":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/extractions/plugin.min.js","uploadcare":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/uploadcare/plugin.min.js","advtemplate":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/advtemplate/plugin.min.js","tableofcontents":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/plugins/tableofcontents/plugin.min.js"},"autocorrect_service_url":"https://spelling.iad.tiny.cloud","linkchecker_api_key":"go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2","promotion":false,"exportpdf_service_url":"https://exportpdf.api.tiny.cloud","mediaembed_api_key":"go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2","chiffer_cdp_init_service_url":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/tinymce/7.3.0-86/cdn-init","imagetools_proxy":"https://imageproxy.iad.tiny.cloud/2/image","editimage_proxy_service_url":"https://imageproxy.iad.tiny.cloud","rtc_tenant_id":"go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2","tinydrive_api_key":"go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2","spellchecker_rpc_url":"https://spelling.iad.tiny.cloud","referrer_policy":"origin","export_image_proxy_service_url":"https://imageproxy.iad.tiny.cloud","linkchecker_service_url":"https://hyperlinking.iad.tiny.cloud","mediaembed_service_url":"https://hyperlinking.iad.tiny.cloud","imagetools_api_key":"go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2","spellchecker_api_key":"go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2","suffix":".min","fluffy_account_message_url":"https://cdn.tiny.cloud/1/go5oky3bl2quqkutip700bunx6iw17b4obiffo48n4bz04p2/account-message","importword_service_url":"https://importdocx.api.tiny.cloud","tinydrive_service_url":"https://tinydrive.iad.tiny.cloud","exportword_service_url":"https://exportdocx.api.tiny.cloud"}, "", false);

/*!
 * Tiny Chiffer plugin
 *
 * Copyright (c) 2023 Ephox Corporation DBA Tiny Technologies, Inc.
 * Licensed under the Tiny commercial license. See https://www.tiny.cloud/legal/
 *
 * Version: 3.4.0-26
 */
!function(){"use strict";function n(t){return function(n){return e=typeof(n=n),(null===n?"null":"object"==e&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==e&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":e)===t;var e}}function e(e){return function(n){return typeof n===e}}function a(n){return!(null==n)}function r(){}function i(n){return function(){return n}}function t(n){return n}var o,s=n("string"),l=n("object"),c=e("boolean"),u=function(n){return o===n},f=e("function"),F=e("number"),d=i(!1),p=i(!(o=void 0)),m=function(){return(m=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}).apply(this,arguments)};function g(n,e,t){if(t||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||((o=o||Array.prototype.slice.call(e,0,r))[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function y(){return v}var C=function(n){n=n.chiffer_cdp_init_service_url;return s(n)?n:void 0},v={fold:function(n,e){return n()},isSome:d,isNone:p,getOr:t,getOrThunk:h,getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:t,orThunk:h,map:y,each:r,bind:y,exists:d,forall:p,filter:function(){return v},toArray:function(){return[]},toString:i("none()")};function h(n){return n()}function w(t){function n(){return r}function e(n){return n(t)}var o=i(t),r={fold:function(n,e){return e(t)},isSome:p,isNone:d,getOr:o,getOrThunk:o,getOrDie:o,getOrNull:o,getOrUndefined:o,or:n,orThunk:n,map:function(n){return w(n(t))},each:function(n){n(t)},bind:e,exists:e,forall:e,filter:function(n){return n(t)?r:v},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return r}function M(n,t,o,r){for(var e=n,i=function(n,e){(t(n,e)?o:r)(n,e)},c=U(e),a=0,u=c.length;a<u;a++){var s=c[a];i(e[s],s)}}function b(n,e){var t,o={};return M(n,e,(t=o,function(n,e){t[e]=n}),r),o}function N(){return(new Date).getTime()}function _(n){return parseInt(n,10)}function z(n,e,t){return{major:n,minor:e,patch:t}}function H(n){return ln(n.editorManager)}function K(n,e){return-1<dn.call(n,e)}function S(i,c){return function(n){var e=n.options,t=c.processor,o=c.legacyProcessor,r=c.defaultValue;return(a(e)?(e.isSet(i)?D.from(e.get(i)):D.none()).bind(t):o(n.getParam(i))).getOr(r)}}function W(n){return yn(n,"/")}function L(e){return function(n){return e(n)?D.some(n):D.none()}}function k(n){return R(n).filter((e=W,function(n){return!e(n)}));var e}function O(n){return s(n)?D.some(n):c(n)||F(n)?D.some(n.toString()):D.none()}function q(n){return n=n.plugins,n=b(n,function(n,e){var t=K(mn,e),n=!!n.isStub;return!!e&&!n&&!("chiffer"===e)&&t}),0<(n=U(n)).length?n:void 0}function J(n,e){var t,o,r=tinymce.Env,i=sn(),c="unknown",e=function(n){n=n.tiny_cloud_entry_url;return s(n)?n:void 0}(e),r=(l(r.os)&&(t={name:r.os.current||c,version:null==(t=r.os.version)?void 0:t.major.toString()}),l(r.os)&&(o={name:r.browser.current||c,version:null==(c=r.browser.version)?void 0:c.major.toString()}),null==i?void 0:i.timeZone),c=null==i?void 0:i.locale,i={width:window.innerWidth,height:window.innerHeight,density:window.devicePixelRatio},a=navigator.userAgent,u=function(){var n;try{return null==(n=navigator.userAgentData)?void 0:n.toJSON()}catch(n){}}();return m(m({},n),{browser:o,os:t,timezone:r,locale:c,screen:i,userAgent:a,userAgentData:u,tinyCloudEntryUrl:e})}function Z(n,e){var t=function(n){n=H(n);return"".concat(n.major,".").concat(n.minor,".").concat(n.patch)}(n),o=gn.getIdForEditor(n);return{apiKey:e.apiKey,pageId:e.pageId,editorId:o,editorVersion:t,editorOptions:function(n){var e,t,o,r,i,c,a,u,s,l,f;if(!fn(n))return e=vn(n),t=kn(n),o=hn(n),r=wn(n),i=bn(n),c=Sn(n),a=_n(n),u=xn(n),s=On(n),l=In(n),f=Pn(n),{plugins:q(n),icons:i,inline:e,language:t,readonly:o,resize:r,skin:c,theme:a,height:u,toolbarMode:s,toolbarLocation:l,uiMode:f}}(n)}}function B(n){return"plugin_".concat(n,"_loaded")}var G,Q,I,X,P,Y,x,$,T,nn,j,A,D={some:w,none:y,from:function(n){return null==n?v:w(n)}},E=function(){for(var n=[],e=0;e<256;e++)n.push((e+256).toString(16).substring(1));return n}(),en=D.from(window.crypto),tn=function(){return en.bind(function(n){return f(n.randomUUID)?D.some(n.randomUUID()):D.none()})},on=function(){return e=new Uint8Array(16),en.bind(function(n){return f(n.getRandomValues)?D.some(n.getRandomValues(e)):D.none()}).map(function(n){for(var e="",t=0;t<16;t++){var o=n[t];e+=6===t?E[15&o|64]:8===t?E[63&o|128]:E[o],3!==t&&5!==t&&7!==t&&9!==t||(e+="-")}return e});var e},rn="00000000-0000-0000-0000-000000000000",cn=function(){return tn().orThunk(on)},U=Object.keys,an=Object.hasOwnProperty,un=function(n,e){return an.call(n,e)},sn=(I=!(G=function(){if(a(Intl))return Intl.DateTimeFormat().resolvedOptions()}),function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return I||(I=!0,Q=G.apply(null,n)),Q}),ln=function(n){n=[n.majorVersion,n.minorVersion].join(".").split(".").slice(0,3).join(".");return(n=/([0-9]+)\.([0-9]+)\.([0-9]+)(?:(\-.+)?)/.exec(n))?z(_(n[1]),_(n[2]),_(n[3])):z(0,0,0)},fn=(X=4,function(n){return H(n).major===X}),dn=Array.prototype.indexOf,pn=function(n,e){for(var t=0,o=n.length;t<o;t++)e(n[t],t)},mn=g(g([],["accordion","advlist","anchor","autolink","autoresize","autosave","bbcode","charmap","code","codesample","colorpicker","compat3x","contextmenu","directionality","emoticons","fullpage","fullscreen","help","hr","image","imagetools","importcss","insertdatetime","legacyoutput","link","lists","media","nonbreaking","noneditable","pagebreak","paste","preview","print","quickbars","save","searchreplace","spellchecker","tabfocus","table","textcolor","textpattern","toc","visualblocks","visualchars","wordcount"],!0),["a11ychecker","advcode","advtable","advtemplate","ai","autocorrect","casechange","checklist","editimage","export","exportpdf","exportword","footnotes","formatpainter","importword","inlinecss","linkchecker","markdown","mediaembed","mentions","mergetags","pageembed","permanentpen","powerpaste","revisionhistory","tableofcontents","tinycomments","tinydrive","tinymcespellchecker","typography"],!0),gn=(P=new WeakMap,{getIdForEditor:function(e){return D.from(P.get(e)).getOrThunk(function(){var n=cn().getOr(rn);return P.set(e,n),n})}}),yn=function(n,e){return-1!==n.indexOf(e)},R=L(s),V=L(c),vn=S("inline",{processor:D.some,legacyProcessor:V}),hn=S("readonly",{processor:D.some,legacyProcessor:V}),wn=S("resize",{processor:O,legacyProcessor:O}),bn=S("icons",{processor:k,legacyProcessor:k}),_n=S("theme",{processor:k,legacyProcessor:k}),Sn=S("skin",{processor:k,legacyProcessor:k}),kn=S("language",{processor:k,legacyProcessor:k}),On=S("toolbar_mode",{processor:D.some,legacyProcessor:R}),In=S("toolbar_location",{processor:R,legacyProcessor:R}),Pn=S("ui_mode",{processor:R,legacyProcessor:D.none}),xn=S("height",{processor:O,legacyProcessor:O}),Tn=function(n,e){if(f(window.fetch))try{var t={method:"POST",mode:"cors",headers:new window.Headers({"Content-Type":"application/json"}),body:JSON.stringify(e),keepalive:!0};window.fetch(n,t).then(r,r)}catch(n){}},jn={direct:!1,library:{name:"chiffer",version:"3.4.0-26"}},An=function(n,e,t){t=J(jn,t),n=Z(n,e);return{anonymousId:e.pageId,event:"editor_init",context:t,properties:n,userId:e.apiKey}},Dn={mceInsertToc:"toc_insert",mceUpdateToc:"toc_update"},En={mceEditImage:"imagetools_open_dialog",mceImageRotateLeft:"imagetools_rotate",mceImageRotateRight:"imagetools_rotate",mceImageFlipVertical:"imagetools_flip",mceImageFlipHorizontal:"imagetools_flip"},Un=["a11ychecker","advcode","advtable","advtemplate","autocorrect","ai","casechange","checklist","editimage","export","exportpdf","exportword","footnotes","formatpainter","importword","inlinecss","linkchecker","markdown","mediaembed","mentions","mergetags","pageembed","permanentpen","powerpaste","revisionhistory","tableofcontents","tinycomments","tinydrive","tinymcespellchecker","typography"],Rn=function(n){for(var n=b(n,function(n,e){n=!!n.isStub;return!!e&&!n&&K(Un,e)}),e=U(n),t=B,o=e.length,r=new Array(o),i=0;i<o;i++){var c=e[i];r[i]=t(c,i)}return r},Vn=function(a,u){return{send:function(n,e,t){var o,r=a,i=N(),c="undefined"!=typeof Intl?encodeURIComponent(Intl.DateTimeFormat().resolvedOptions().timeZone):"N%2FA",r="?aid=".concat(r,"&tna=").concat("tinymce_cloud","&p=").concat("web","&dtm=").concat(e,"&stm=").concat(i,"&tz=").concat(c,"&e=").concat("se","&se_ca=").concat(n),e=function(n){n=n.chiffer_snowplow_service_url;return s(n)?n:void 0}(u);s(e)?((o=document.createElement("img")).src=e+r,o.onload=(i=function(n){return function(){o.onload=null,o.onerror=null,t(n)}})(!0),o.onerror=i(!1)):t(!1)}}},Fn=function(e){return{sendStat:function(n){e.send(n,N(),r)}}};V={load:r},A=null!=(A=tinymce.defaultOptions)?A:tinymce.defaultSettings,j=function(n){n=n.api_key;return s(n)?n:void 0}(A=m({},A)),A=u(j)?V:(T=function(n,e){n=Vn(n,e);return Fn(n)}(V=j,j=A),Y=V,x=j,$=cn().getOr(rn),nn={sendInit:function(n){var e=C(x);s(e)&&(n=An(n,{apiKey:Y,pageId:$},x),Tn(e,n))}},T.sendStat("script_load"),{load:function(t){t.once("init",function(){return T.sendStat("init")}),t.once("init",function(){return nn.sendInit(t)}),t.once("focus",function(){return T.sendStat("focus")}),t.on("ExportPdf",function(){return T.sendStat("export_pdf")}),t.on("InlineCSS",function(){return T.sendStat("inlinecss_get_content")}),t.on("PastePreProcess PowerPasteTempStats",function(n){n=n.source;a(n)&&T.sendStat("powerpaste_".concat(n))}),t.on("SpellcheckerLanguageChanged",function(n){n=n.language;T.sendStat("spellcheckerpro_language_changed_".concat(n))}),t.on("AIResponse",function(){return T.sendStat("ai_response")}),t.on("ExportToPdf",function(){return T.sendStat("exportpdf_download")}),t.on("ExportToWord",function(){return T.sendStat("exportword_download")}),t.on("ImportFromWord",function(){return T.sendStat("importword_insert")}),t.on("MarkdownPaste",function(){return T.sendStat("markdown_paste")}),t.on("RevisionHistoryOpen",function(){return T.sendStat("revisionhistory_open")});var n=function(){"showcomments"===t.queryCommandValue("ToggleSidebar")&&(t.off("ToggleSidebar",n),T.sendStat("tinycomments_open"))};t.on("ToggleSidebar",n),t.on("MathDialogSubmit",function(){return T.sendStat("math_dialog_submit")}),t.on("ExecCommand",function(n){n=function(n){n=n.command;return un(En,n)?En[n]:un(Dn,n)?Dn[n]:void 0}(n);u(n)||T.sendStat(n)}),t.on("PreInit",function(){var n=T,e=t.plugins;e=Rn(e),pn(e,n.sendStat)})}}),tinymce.PluginManager.add("chiffer",A.load)}();
